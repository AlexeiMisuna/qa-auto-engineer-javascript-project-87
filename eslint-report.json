[{"filePath":"/home/aleksey/Документы/Hexlet/qa-auto-engineer-javascript-project-87/src/__tests__/genDiff.test.js","messages":[{"ruleId":"@stylistic/indent","severity":2,"message":"Expected indentation of 2 spaces but found 0.","line":37,"column":1,"nodeType":"Line","messageId":"wrongIndentation","endLine":37,"endColumn":1,"fix":{"range":[801,801],"text":"  "}},{"ruleId":"@stylistic/indent","severity":2,"message":"Expected indentation of 2 spaces but found 0.","line":38,"column":1,"nodeType":"Line","messageId":"wrongIndentation","endLine":38,"endColumn":1,"fix":{"range":[863,863],"text":"  "}},{"ruleId":"@stylistic/indent","severity":2,"message":"Expected indentation of 2 spaces but found 0.","line":39,"column":1,"nodeType":"Line","messageId":"wrongIndentation","endLine":39,"endColumn":1,"fix":{"range":[932,932],"text":"  "}},{"ruleId":"@stylistic/indent","severity":2,"message":"Expected indentation of 2 spaces but found 0.","line":41,"column":1,"nodeType":"Line","messageId":"wrongIndentation","endLine":41,"endColumn":1,"fix":{"range":[1002,1002],"text":"  "}},{"ruleId":"@stylistic/indent","severity":2,"message":"Expected indentation of 2 spaces but found 0.","line":42,"column":1,"nodeType":"Line","messageId":"wrongIndentation","endLine":42,"endColumn":1,"fix":{"range":[1029,1029],"text":"  "}},{"ruleId":"@stylistic/indent","severity":2,"message":"Expected indentation of 2 spaces but found 0.","line":43,"column":1,"nodeType":"Line","messageId":"wrongIndentation","endLine":43,"endColumn":1,"fix":{"range":[1041,1041],"text":"  "}},{"ruleId":"@stylistic/indent","severity":2,"message":"Expected indentation of 2 spaces but found 0.","line":44,"column":1,"nodeType":"Line","messageId":"wrongIndentation","endLine":44,"endColumn":1,"fix":{"range":[1053,1053],"text":"  "}}],"suppressedMessages":[],"errorCount":7,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":7,"fixableWarningCount":0,"source":"import path from 'path'\nimport genDiff from '../index.js'\n\nconst fixtures = './__fixtures__'\n\ndescribe('genDiff', () => {\n  test('Частичное различие содержания файлов', () => {\n    const file1 = path.join(fixtures, 'file1.json')\n    const file2 = path.join(fixtures, 'file2.json')\n\n    const expected = `{\n  - follow: false\n    host: hexlet.io\n  - proxy: 123.234.53.22\n  - timeout: 50\n  + timeout: 20\n  + verbose: true\n}`\n\n    expect(genDiff(file1, file2)).toBe(expected)\n  })\n\n  test('Содержание файлов абсолютно идентично', () => {\n    const file1 = path.join(fixtures, 'file1.json')\n    const file2 = path.join(fixtures, 'file1.json')\n\n    const expected = `{\n    follow: false\n    host: hexlet.io\n    proxy: 123.234.53.22\n    timeout: 50\n}`\n\n    expect(genDiff(file1, file2)).toBe(expected)\n  })\n\n//   test('Содержание файлов абсолютно не идентично', () => {\n//     const fileA = path.join(fixtures, 'fileA.json') // { \"a\": 1 }\n//     const fileB = path.join(fixtures, 'fileB.json') // { \"b\": 2 }\n\n//     const expected = `{\n//   - a: 1\n//   + b: 2\n// }`\n\n//     expect(genDiff(fileA, fileB)).toBe(expected)\n//   })\n})\n","usedDeprecatedRules":[]},{"filePath":"/home/aleksey/Документы/Hexlet/qa-auto-engineer-javascript-project-87/src/index.js","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'format' is assigned a value but never used.","line":4,"column":64,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":70,"suggestions":[{"messageId":"removeVar","data":{"varName":"format"},"fix":{"range":[121,141],"text":""},"desc":"Remove unused variable 'format'."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import _ from 'lodash'\nimport parseFile from './parser.js'\n\nexport default function genDiffFromFiles(filepath1, filepath2, format = 'stylish') {\n  // Читаем и парсим файлы\n  const data1 = parseFile(filepath1)\n  const data2 = parseFile(filepath2)\n\n  // Сравниваем объекты\n  const keys = _.sortBy([...new Set([...Object.keys(data1), ...Object.keys(data2)])])\n\n  const diffLines = keys.flatMap((key) => {\n    const val1 = data1[key]\n    const val2 = data2[key]\n\n    if (!Object.hasOwn(data1, key)) return [`  + ${key}: ${val2}`]\n    if (!Object.hasOwn(data2, key)) return [`  - ${key}: ${val1}`]\n    if (_.isEqual(val1, val2)) return [`    ${key}: ${val1}`]\n    return [`  - ${key}: ${val1}`, `  + ${key}: ${val2}`]\n  })\n\n  return `{\\n${diffLines.join('\\n')}\\n}`\n}\n","usedDeprecatedRules":[]},{"filePath":"/home/aleksey/Документы/Hexlet/qa-auto-engineer-javascript-project-87/src/parser.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]